# Installing `platys`

You can install `platys` on Windows, Mac OS-X and 64-bit Linux.

## Prerequisites

`platys` relies on the Docker Engine for most of its work, so make sure you have Docker Engine installed either locally or remote, depending on your setup.

  * On desktop systems install Docker Desktop for Mac and Windows
  * On Linux systems, install the Docker for your OS as described on the Get Docker page

For running the Platform generated by `platys`, you also have to install Docker-Compose. 

You also need an internet connection in order to download the necessary images. 

## Installation

### Mac OS-X 

Follow the instructions below for installing `platys` on a Mac systems.  

1. Run this command to download the current stable release of the `platys`:

for Macs with Intel

```bash
sudo curl -L "https://github.com/TrivadisPF/platys/releases/download/2.4.3/platys_2.4.3_darwin_x86_64.tar.gz" -o /tmp/platys.tar.gz
```

for Macs with Apple Silicon (M1)

```bash
sudo curl -L "https://github.com/TrivadisPF/platys/releases/download/2.4.3/platys_2.4.3_darwin_arm64.tar.gz" -o /tmp/platys.tar.gz
```

2. Untar and move it to `/usr/local/bin`

  ```bash
cd /tmp
tar zvxf /tmp/platys.tar.gz 
sudo mv platys /usr/local/bin/
sudo rm /tmp/platys.tar.gz 
```

3. Use the `version` command to check that `platys` has been installed successfully.

  ```bash
$ platys version
Platys - Trivadis Platform in a Box - v 2.4.3
https://github.com/trivadispf/platys
Copyright (c) 2018-2020, Trivadis AG
```

### Linux

Follow the instructions below for installing `platys` on a Linux systems.  

1. Run this command to download the current stable release of the `platys`:

if on Intel

  ```bash
sudo curl -L "https://github.com/TrivadisPF/platys/releases/download/2.4.3/platys_2.4.3_linux_x86_64.tar.gz" -o /tmp/platys.tar.gz
```

if on Arm64

  ```bash
sudo curl -L "https://github.com/TrivadisPF/platys/releases/download/2.4.3/platys_2.4.3_linux_arm64.tar.gz" -o /tmp/platys.tar.gz
```

2. Untar and move it to `/usr/local/bin`

  ```bash
cd /tmp
tar zvxf /tmp/platys.tar.gz 
sudo mv platys /usr/local/bin/
sudo chown root:root /usr/local/bin/platys
sudo rm /tmp/platys.tar.gz 
```

3. Use the `version` command to check that `platys`  has been installed successfully.

  ```bash
$ platys version
Platys - Trivadis Platform in a Box - v 2.4.3
https://github.com/trivadispf/platys
Copyright (c) 2018-2020, Trivadis AG
```

### Windows 

Follow the instructions below for installing `platys` on a Windows system. 

1. From a Windows Powershell, run this command to download the current stable release of the `platys`:

  ```
Invoke-WebRequest "https://github.com/TrivadisPF/platys/releases/download/2.4.3/platys_2.4.3_windows_x86_64.zip" -OutFile platys.zip
```

2. Expand the zip archive into `ProgramFiles\Platys` and remove the zip file:

  ```
Expand-Archive -LiteralPath platys.zip -DestinationPath $Env:ProgramFiles\Platys
rm platys.zip
```

3. Add the Platys folder to the `PATH` environment variable 

  ```
$currentpath = (Get-ItemProperty -Path 'Registry::HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Session Manager\Environment' -Name PATH).path
```

  ```
$newpath = “$currentpath;C:\Program Files\Platys\”
```

  ```
Set-ItemProperty -Path 'Registry::HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\Session Manager\Environment' -Name PATH -Value $newpath
```

4. Restart the PowerShell terminal andu use the `version` command to check that `platys` has been installed successfully.

  ```bash
$ platys version
Platys - Trivadis Platform in a Box - v 2.4.3
https://github.com/trivadispf/platys
Copyright (c) 2018-2020, Trivadis AG
```

### Docker

1. Pull the image once from Docker Hub

	```bash
docker pull trivadis/platys:latest
```

2. Run the image using the following command (with version argument)

	```bash
$ docker run -it --rm --name=platys --privileged -v /var/run/docker.sock:/var/run/docker.sock trivadis/platys:latest version
Platys - Trivadis Platform in a Box - v 2.4.3
https://github.com/trivadispf/platys
Copyright (c) 2018-2020, Trivadis AG
``` 
   
## Uninstallation

### Mac OS-X and Linux

To uninstall `platys` perform

```
sudo rm /usr/local/bin/platys
```

### Windows

To uninstall `platys` perform

```
rm 'C:\Program Files\Platys'
```

Remove `C:\Program Files\Platys` from the `Path` environment variable.
   
## Where to go next

* [Getting Started with `platys` and the `modern-data-platform` platform stack](https://github.com/TrivadisPF/platys-modern-data-platform/blob/master/documentation/getting-started.md)
* [Explore the full list of platys commands](command-line-ref.md)
* [Platys latest release](https://github.com/TrivadisPF/platys/releases/latest)

